(()=>{var r={positive:["bg-green-50","text-green-900"],negative:["bg-red-50","text-red-900"]},i=t=>{let e=t.parentElement,n=e.querySelector(".value");n.classList.remove("border","border-red-500");let a=parseInt(n.value||""),o=e.querySelector(".desc");o.classList.remove("border","border-red-500");let s=o.value||"";if(!a){n.classList.add("border","border-red-500");return}if(!s){o.classList.add("border","border-red-500");return}d({desc:s,value:a},t.closest(".square")),n.value="1",o.value=""},d=(t,e)=>{let n=document.createElement("div");n.classList.add("event","flex","items-center","mb-2");let a=document.createElement("input");a.classList.add("value","w-8","mr-2","text-center","text-slate-900","bg-amber-50"),a.value=t.value.toString(),n.appendChild(a);let o=document.createElement("input");o.value=t.desc;let s=t.value>0?r.positive:r.negative;o.classList.add("desc","h-7","flex-1","mr-2","pl-2",...s),n.appendChild(o);let l=document.createElement("button");l.innerHTML="&times;",l.classList.add("remove-event","h-7","flex","items-center","px-2","border-none","bg-white","text-amber-800"),n.appendChild(l),e.querySelector(".events").appendChild(n)},h=()=>{let t=0,e=0;return document.querySelectorAll("[data-square]").forEach(n=>{let a=n.querySelectorAll(".event");a.length&&a.forEach(o=>{let s=o.querySelector(".value"),l=parseInt(s.value||"0");if(!isNaN(l)){t++;let m=o.closest("[data-square]");e+=m.dataset.square.startsWith("yes")?l:-l}})}),{count:t,total:e}},c=()=>{let{count:t,total:e}=h(),n=document.querySelector("[data-score] .value"),a=document.querySelector("[data-score] .desc"),o=document.querySelector("[data-score] .score");if(o.classList.remove(...r.positive,...r.negative),t){a.innerText=e===0?"Add at least one more event to calculate the score":"YOUR SCORE: ",n.innerText=e.toString()||"";let s="";e>0&&(s="\u{1F44D} You should do it."),e<0&&(s="\u{1F44E} You should not do it.");let l=e>0?r.positive:e<0?r.negative:"";o.classList.add(...l),o.innerText=s}else a.innerText="Add events to calculate the score",n.innerText="",o.innerText=""};var u={president:{"yes-yes":[{value:1,desc:"I will be president of the most powerful country in the world"},{value:-1,desc:"I will have to work way harder than now "},{value:-1,desc:"I will have to work on things that are way harder than this"},{value:1,desc:'I will get to move around in "the Beast"'},{value:1,desc:"Marine One!!!"},{value:-1,desc:"I will have to wear suites every day"},{value:-1,desc:"I will have to think a lot before talking"}],"no-yes":[{value:1,desc:"I will be able to travel and live where I want"},{value:1,desc:"I will continue doing what I love"},{value:1,desc:"I can sleep and wake up whenever I want"}],"yes-no":[{value:1,desc:"I won't have to pay rent"},{value:-1,desc:"I won't be able to write code any more"}],"no-no":[{value:1,desc:"I won't have to think about issues I don't care about"},{value:-1,desc:"I won't be able to see the oval office"}]},sports:{"yes-yes":[{value:1,desc:"I will feel better"},{value:1,desc:"I will be healthier"},{value:1,desc:"I will probably look better"},{value:-1,desc:"I will have to actually do it"}],"no-yes":[{value:1,desc:"I will have more time to spend on other stuff"},{value:-1,desc:"I will get less and less healthy with time"}],"yes-no":[{value:-1,desc:"I won't be able to watch so many TV shows"},{value:1,desc:"I won't get breathless every time I climb 2 stairs"}],"no-no":[{value:1,desc:"I won't accidentally hurt myself during workouts"},{value:-1,desc:"I won't get any stronger than I am now"}]}},v=t=>{document.querySelectorAll(".events").forEach(n=>n.innerText="");let e=t.dataset.example;Object.keys(u[e]).forEach(n=>{let a=document.querySelector(`[data-square="${n}"]`);u[e][n].forEach(s=>d(s,a))})};document.querySelectorAll(".square footer button").forEach(t=>{t.addEventListener("click",()=>{i(t),c()})}),document.querySelectorAll("[data-example]").forEach(t=>{t.addEventListener("click",()=>{v(t),c(),document.getElementById("square").scrollIntoView({behavior:"smooth"})})}),document.addEventListener("click",t=>{let e=t.target;e.classList.contains("remove-event")&&(e.parentElement.parentElement.removeChild(e.parentElement),c())}),document.addEventListener("change",t=>{let e=t.target;e.classList.contains("value")&&e.closest(".event")&&c()});})();
